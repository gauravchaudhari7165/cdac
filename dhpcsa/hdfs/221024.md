# HDFS Commands and User Management

## HDFS Operations

1. **Start HDFS Services**
    ```sh
    start-all.sh
    ```

2. **List Root Directory**
    ```sh
    hdfs dfs -ls /
    ```

3. **Create Directory `/acts`**
    ```sh
    hdfs dfs -mkdir /acts
    hdfs dfs -ls /
    ```

4. **Create and Copy File to HDFS**
    ```sh
    nano hdfs-demo.txt
    hdfs dfs -copyFromLocal hdfs-demo.txt /acts/
    ```

5. **Local Directory Operations**
    ```sh
    mkdir test
    cd test
    hdfs dfs -copyToLocal /acts/hdfs-demo.txt
    ls
    ```

6. **Remove and Retrieve File**
    ```sh
    rm -rf hdfs-demo.txt
    ls
    hdfs dfs -get /acts/hdfs-demo.txt
    ls
    ```

7. **List and Manage HDFS Directories**
    ```sh
    hdfs dfs -ls /
    hdfs dfs -ls /demo
    hdfs dfs -rm /demo/multi-node.txt
    hdfs dfs -mkdir /demo
    hdfs dfs -cp /acts/hdfs-demo.txt /demo/
    ```

## User Management

1. **Add and Switch User**
    ```sh
    sudo adduser user2
    su - user2
    ```

2. **Create and List File for User2**
    ```sh
    nano user2.txt
    # content for this file->> this is user2
    hdfs dfs -ls /
    ```

3. **HDFS Operations as User2**
    ```sh
    cd /usr/local/hadoop/bin
    ./hdfs dfs -ls /
    ./hdfs dfs -mkdir /user2
    exit
    hdfs dfs -mkdir /user2-data
    hdfs dfs -ls /
    hdfs dfs -chown user2 /user2-data
    hdfs dfs -ls /
    su - user2
    cd /usr/local/hadoop/bin/
    cd
    export PATH=$PATH:/usr/local/hadoop/bin
    hdfs dfs -ls /
    nano user2.txt
    hdfs dfs -put user2.txt /user2-data
    hdfs dfs -ls /user2-data
    exit
    ```

4. **Group and User Management**
    ```sh
    sudo groupadd hpcsa
    sudo adduser hpc1
    sudo adduser --ingroup hpcsa hpc2
    sudo usermod -G hpcsa hpc1
    ```

5. **HDFS Directory and Permissions**
    ```sh
    hdfs dfs -mkdir /hpc-project
    hdfs dfs -ls /
    hdfs dfs -chgrp hpcsa /hpc-project
    hdfs dfs -ls /
    hdfs dfs -chmod 775 /hpc-project
    hdfs dfs -ls /
    ```

6. **User Operations in HDFS**
    ```sh
    su - hpc1
    nano hpc1.txt
    hdfs dfs -put hpc1.txt /hpc-project
    export PATH=$PATH:/usr/local/hadoop/bin
    hdfs dfs -put hpc1.txt /hpc-project
    exit

    su - hpc2
    export PATH=$PATH:/usr/local/hadoop/bin
    nano hpc2.txt
    hdfs dfs -put hpc2.txt /hpc-project
    exit
    hdfs dfs -ls /hpc-project
    su - hpc1
    hdfs dfs -cat /hpc-project/hpc1.txt
    ```

7. **System-wide PATH Configuration**
    ```sh
    sudo nano /etc/bashrc
    export PATH=$PATH:/usr/local/Hadoop

    sudo nano /etc/bash.bashrc
    export PATH=$PATH:/usr/local/hadoop/bin
    exit
    su - hpc1
    hdfs dfs -ls /
    nano file2.txt
    hdfs dfs -cat /hpc-project/hpc1.txt
    hdfs dfs -appendToFile file2.txt /hpc-project/hpc1.txt
    hdfs dfs -cat /hpc-project/hpc1.txt
    ```